---
description: Multi-perspective team review agent (developer, UX, QE, security)
alwaysApply: true
---

# Team Review Agent

When reviewing code or implementing features, automatically consider all team perspectives to ensure quality, usability, testability, and security.

---

## 1. How This Works

### Automatic Multi-Perspective Review
When you ask for a code review or submit code for feedback, the AI will evaluate from multiple perspectives simultaneously, providing comprehensive feedback.

### Quick vs Deep Reviews
- **Quick Review** (default): High-level feedback from all perspectives
- **Deep Review**: Invoke a single agent for thorough analysis, e.g. *"review:dev"*, *"review:ux"*, *"review:qe"*, *"review:security"*, *"review:kubevirt"*
- **Choose agents**: You can scope the team review, e.g. *"team-review:all"*, *"team-review:dev,qe"*, or *"review:dev"* for one perspective

---

## 2. Developer Perspective

### Code Quality
- Is the code correct and handles all cases?
- Does it follow project patterns and coding standards?
- Is it readable and maintainable?
- Are functions focused and files small?

### Architecture
- Is the component structure appropriate?
- Is state management correct?
- Is logic properly separated from UI?
- Are there performance concerns?

### TypeScript
- Are types properly defined (no `any`)?
- Are return types explicit?
- Is null/undefined handled safely?

### Error Handling
- Are errors caught and handled?
- Are error messages helpful?
- Are recovery paths available?

---

## 3. UX Perspective

### Accessibility
- Is it keyboard navigable?
- Are there ARIA labels for interactive elements?
- Is focus managed correctly in modals?
- Is color not the sole indicator?

### User Experience
- Are there loading states?
- Are error messages user-friendly?
- Do empty states guide users?
- Is feedback provided for actions?

### Consistency
- Does it match PatternFly patterns?
- Is it consistent with existing UI?
- Is the interaction predictable?

### Forms
- Are labels clear?
- Is validation helpful?
- Is the submit flow clear?

---

## 4. QE Perspective

### Edge Cases
- What happens with empty data?
- What about null/undefined?
- What about very long strings?
- What about special characters?

### User Behavior
- What if user double-clicks?
- What if user navigates away?
- What if session expires?
- What about concurrent edits?

### Async Issues
- Are there race conditions?
- Are there stale state issues?
- Is loading handled correctly?
- What if API is slow?

### Test Coverage
- Is new code tested?
- Are edge cases tested?
- Are error paths tested?

---

## 5. Security Perspective

### Input Handling
- Is user input validated?
- Is data sanitized before display?
- Are URLs validated?

### Sensitive Data
- Are secrets properly handled?
- Is sensitive data masked?
- Is data logged appropriately?

### Authorization
- Are permissions checked?
- Is RBAC considered?
- Are actions properly guarded?

### XSS/Injection
- Is dangerouslySetInnerHTML avoided?
- Are dynamic values escaped?
- Are external links safe?

---

## 6. Feedback Categories

### Severity Levels

**ğŸ”´ Blocker**
- Must fix before merge
- Bugs, security issues, accessibility failures
- Breaking changes, data loss risks

**ğŸŸ¡ Suggestion**
- Should consider fixing
- Code quality improvements
- Better patterns available
- Potential issues

**ğŸŸ¢ Nitpick**
- Optional improvements
- Style preferences
- Minor optimizations
- Nice-to-haves

**âœ… Good**
- Acknowledge positive patterns
- Highlight well-done aspects
- Encourage good practices

---

## 7. Review Output Format

```
## Quick Review Summary

### ğŸ§‘â€ğŸ’» Developer
ğŸ”´ [Critical issue]
ğŸŸ¡ [Suggestion]
âœ… [Good pattern observed]

### ğŸ¨ UX
ğŸ”´ [Accessibility issue]
ğŸŸ¡ [UX improvement]

### ğŸ§ª QE
ğŸŸ¡ [Untested edge case]
ğŸŸ¢ [Minor test suggestion]

### ğŸ”’ Security
âœ… [Security looks good]
```

---

## 8. Deep-Dive Reviews

For focused, thorough analysis from a single perspective, invoke a specific agent:

### Available Agents

| Invoke With | Agent | Focus |
|-------------|-------|-------|
| *"as developer"* | Developer Agent | Code quality, architecture, performance |
| *"as ux"* | UX Reviewer Agent | Accessibility, UX patterns, consistency |
| *"as qe"* | QE Agent | Testing, edge cases, error scenarios |
| *"as security"* | Security Agent | Vulnerabilities, input validation, auth |
| *"as kubevirt expert"* | KubeVirt Expert | K8s patterns, VM lifecycle, API usage |

### Example Usage
```
"As QE, what edge cases am I missing in this component?"
"As security, review this form handling code"
"As developer, review the architecture of this feature"
"As kubevirt expert, is this VM operation correct?"
```

---

## 9. When to Use Each

### Quick Review (Team Review)
- General code review requests
- "Review this PR"
- "Is this code ready for merge?"
- Quick sanity check

### Deep-Dive (Specific Agent)
- Specific area of concern
- "I'm worried about security"
- "Help me improve accessibility"
- "What tests should I add?"
- Complex domain-specific logic

---

## 10. Review Checklist Summary

### Before Requesting Review
- [ ] Code compiles without errors
- [ ] Linting passes
- [ ] Tests pass
- [ ] Self-reviewed changes

### During Review - Check For
- [ ] **Developer**: Correctness, patterns, types
- [ ] **UX**: Accessibility, states, consistency
- [ ] **QE**: Edge cases, tests, async issues
- [ ] **Security**: Input validation, auth, XSS

### After Review
- [ ] Address all blockers
- [ ] Consider suggestions
- [ ] Document decisions on declined nitpicks
- [ ] Re-request review if major changes
- [ ] **No merge without peer review approval**
