---
description: Multi-perspective team review agent (developer, UX, QE, security)
alwaysApply: true
---

# Team Review Agent

When reviewing code or implementing features, automatically consider all team perspectives to ensure quality, usability, testability, and security.

---

## 1. How This Works

### Automatic Trigger on Jira Tickets

**CRITICAL**: When a user sends a Jira ticket URL (e.g., `https://issues.redhat.com/browse/CNV-XXXXX`), **START WORKING IMMEDIATELY**. Follow the detailed workflow in `workflows/ticket-workflow.mdc`.

Do NOT wait for user confirmation to start - begin immediately upon receiving a ticket.

### Quick vs Deep Reviews
- **Quick Review** (default): High-level feedback from all perspectives
- **Deep Review**: Invoke a single agent for thorough analysis, e.g. *"review:dev"*, *"review:ux"*, *"review:qe"*, *"review:security"*, *"review:kubevirt"*
- **Choose agents**: You can scope the team review, e.g. *"team-review:all"*, *"team-review:dev,qe"*, or *"review:dev"* for one perspective

---

## 2. Review Perspectives

### Developer
- Code correctness, patterns, types
- Architecture and component structure
- Error handling and performance

### UX
- Accessibility (keyboard, ARIA, focus)
- Loading/error/empty states
- PatternFly consistency

### QE
- Edge cases and boundary values
- Async/timing issues
- Test coverage gaps

### Security
- Input validation and sanitization
- Authorization/RBAC checks
- Sensitive data handling

### KubeVirt Expert
- K8s resource patterns and GVK usage
- VM lifecycle correctness
- Console SDK integration

---

## 3. Severity Levels

**ğŸ”´ Blocker** - Must fix before merge (bugs, security, accessibility failures)
**ğŸŸ¡ Suggestion** - Should consider (code quality, better patterns, potential issues)
**ğŸŸ¢ Nitpick** - Optional (style preferences, minor optimizations)
**âœ… Good** - Acknowledge positive patterns

> **Note**: When running deep-dive agents ("as developer", "as qe", etc.), each agent uses its own output format tailored to its domain. The severity levels above apply to quick team reviews.

---

## 4. Quick Review Output Format

```
## Quick Review Summary

### ğŸ§‘â€ğŸ’» Developer
ğŸ”´ [Critical issue]
ğŸŸ¡ [Suggestion]
âœ… [Good pattern observed]

### ğŸ¨ UX
ğŸ”´ [Accessibility issue]
ğŸŸ¡ [UX improvement]

### ğŸ§ª QE
ğŸŸ¡ [Untested edge case]
ğŸŸ¢ [Minor test suggestion]

### ğŸ”’ Security
âœ… [Security looks good]
```

---

## 5. Deep-Dive Reviews

For thorough analysis from a single perspective, invoke a specific agent:

| Invoke With | Agent | Focus |
|-------------|-------|-------|
| *"as developer"* | Developer Agent | Code quality, architecture, performance |
| *"as ux"* | UX Reviewer Agent | Accessibility, UX patterns, consistency |
| *"as qe"* | QE Agent | Testing, edge cases, error scenarios |
| *"as security"* | Security Agent | Vulnerabilities, input validation, auth |
| *"as kubevirt expert"* | KubeVirt Expert | K8s patterns, VM lifecycle, API usage |

---

## 6. Review Checklist

### Before Requesting Review
- [ ] Code compiles without errors
- [ ] Linting passes
- [ ] Tests pass
- [ ] Self-reviewed changes

### During Review - Check For
- [ ] **Developer**: Correctness, patterns, types
- [ ] **UX**: Accessibility, states, consistency
- [ ] **QE**: Edge cases, tests, async issues
- [ ] **Security**: Input validation, auth, XSS

### After Review
- [ ] Address all blockers
- [ ] Consider suggestions
- [ ] Document decisions on declined nitpicks
- [ ] Re-request review if major changes
